<div class="event-management">
  <!-- Controls -->
  <div class="controls-container">
    <div class="controls bg-gray-50 p-4 rounded-lg mb-6">
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center"> <!-- Added justify-center and items-center -->
        <button (click)="toggleOrderBy()" class="control-btn bg-blue-50 text-blue-600">
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4 4a1 1 0 011-1h4a1 1 0 010 2H6.414l4.293 4.293a1 1 0 01-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-4.293 4.293a1 1 0 111.414-1.414L13.586 5H13zm-9 7a1 1 0 012 0v1.586l4.293-4.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-4.293-4.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z" clip-rule="evenodd"/>
          </svg>
          Sort {{ orderByRecent ? "Newest First" : "Oldest First" }}
        </button>
        <button (click)="openCalendar()" class="control-btn bg-green-50 text-green-600">
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
          </svg>
          View Calendar
        </button>
      </div>
    </div>
  </div>

  <!-- Events List -->
  @if(events.length == 0) {
    <div class="empty-state bg-white rounded-lg p-8 text-center">
      <svg class="w-12 h-12 mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      <h3 class="mt-3 text-lg font-medium text-gray-700">No events found</h3>
      <p class="mt-1 text-sm text-gray-500">Create your first event to get started</p>
    </div>
  } @else {
    <div class="event-grid">
      @for (singleEvent of events; track singleEvent.uuid) {
        <app-event-item
          [event]="singleEvent"
          (refreshEvents)="refreshEvents()"
          [isFirst]="singleEvent === events[0]"
        ></app-event-item>
      }
    </div>
  }
</div>